import{j as e,L as s,ac as t,i as a,c as r,B as i,I as n}from"./ui-v2ReSvUE.js";import{r as o}from"./react-YWE4JMTy.js";import{u as c,s as l}from"./index-Cgc97SP_.js";import{u as m}from"./router-BNBI7_bc.js";import"./supabase-Du4GZSDg.js";function d(){const d=m(),{user:h}=c(),[u,x]=o.useState(!1),[g,p]=o.useState(!1),[f,b]=o.useState(""),[y,N]=o.useState(!0),[j,I]=o.useState(!1),[T,v]=o.useState(null),[S,E]=o.useState(!1),O="1.0.0";o.useEffect(()=>{h?w():N(!1)},[h]);const w=async()=>{try{const{data:e,error:s}=await l.from("terms_acceptance").select("*").eq("user_id",null==h?void 0:h.id).eq("terms_version",O).single();if(s&&"PGRST116"!==s.code)throw s;x(!!e)}catch(e){v("Failed to check terms acceptance status")}finally{N(!1)}};return y?e.jsx("div",{className:"flex justify-center items-center min-h-[50vh]",children:e.jsx(s,{className:"w-8 h-8 animate-spin text-brand-gold"})}):e.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[e.jsxs("button",{onClick:()=>d(-1),className:"flex items-center gap-2 text-gray-600 dark:text-gray-400 hover:text-brand-gold transition-colors",children:[e.jsx(t,{className:"w-5 h-5"}),"Back"]}),e.jsxs("div",{className:"glass-panel p-8",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsx(a,{className:"w-10 h-10 text-brand-gold"}),e.jsx("h1",{className:"text-3xl font-bold",children:"Terms of Service"})]}),u?e.jsxs("div",{className:"bg-green-100 dark:bg-green-900/30 p-6 rounded-lg flex items-center gap-4",children:[e.jsx(r,{className:"w-8 h-8 text-green-600 dark:text-green-400 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-green-700 dark:text-green-300",children:"Terms Accepted"}),e.jsx("p",{className:"text-green-700 dark:text-green-300",children:"You have already accepted the Terms of Service for PIT-BOX.COM."})]})]}):e.jsxs(e.Fragment,{children:[T&&e.jsxs("div",{className:"mb-6 p-4 rounded-lg bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300 flex items-center gap-2",children:[e.jsx(i,{className:"w-5 h-5 flex-shrink-0"}),T]}),S&&e.jsxs("div",{className:"mb-6 p-4 rounded-lg bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300 flex items-center gap-2",children:[e.jsx(r,{className:"w-5 h-5 flex-shrink-0"}),"Terms accepted successfully! Redirecting..."]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("p",{className:"text-lg mb-4",children:"Please read and accept the following Terms of Service to continue using PIT-BOX.COM."}),e.jsxs("div",{className:"flex items-center gap-2 text-amber-600 dark:text-amber-400 mb-4 bg-amber-50 dark:bg-amber-900/20 p-3 rounded-lg",children:[e.jsx(n,{className:"w-5 h-5 flex-shrink-0"}),e.jsx("p",{className:"text-sm",children:"By accepting these terms, you acknowledge that you have read, understood, and agree to be bound by all the provisions outlined below."})]})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800/50 p-6 rounded-lg mb-8 max-h-[400px] overflow-y-auto border border-gray-200 dark:border-gray-700",children:[e.jsx("h2",{className:"text-xl font-bold mb-4",children:"PIT-BOX.COM Terms of Service"}),e.jsx("h3",{className:"text-lg font-semibold mt-6 mb-2",children:"1. Acceptance of Terms"}),e.jsx("p",{className:"mb-4",children:'By accessing or using PIT-BOX.COM ("the Service"), you agree to be bound by these Terms of Service. If you do not agree to all the terms and conditions, you must not access or use the Service.'}),e.jsx("h3",{className:"text-lg font-semibold mt-6 mb-2",children:"2. Description of Service"}),e.jsx("p",{className:"mb-4",children:'PIT-BOX.COM provides tools and resources for racing setup management, community interaction, and related services. The Service is provided "as is" and "as available" without warranties of any kind.'}),e.jsx("h3",{className:"text-lg font-semibold mt-6 mb-2",children:"3. User Accounts"}),e.jsx("p",{className:"mb-4",children:"You are responsible for maintaining the security of your account and password. The company cannot and will not be liable for any loss or damage from your failure to comply with this security obligation."}),e.jsx("h3",{className:"text-lg font-semibold mt-6 mb-2",children:"4. User Content"}),e.jsx("p",{className:"mb-4",children:"You retain ownership of any content you submit to the Service. By submitting content, you grant us a worldwide, non-exclusive, royalty-free license to use, copy, reproduce, process, adapt, modify, publish, transmit, display, and distribute such content."}),e.jsx("h3",{className:"text-lg font-semibold mt-6 mb-2",children:"5. Acceptable Use"}),e.jsx("p",{className:"mb-4",children:"You agree not to use the Service for any illegal or unauthorized purpose. You must not transmit worms, viruses, or any code of a destructive nature. Harassment, abuse, or threatening behavior toward other users is prohibited."}),e.jsx("h3",{className:"text-lg font-semibold mt-6 mb-2",children:"6. Disclaimer of Warranties"}),e.jsx("p",{className:"mb-4",children:'THE SERVICE IS PROVIDED "AS IS" AND "AS AVAILABLE" WITHOUT WARRANTIES OF ANY KIND, EITHER EXPRESS OR IMPLIED. WE EXPLICITLY DISCLAIM ALL WARRANTIES, INCLUDING ANY IMPLIED WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, QUIET ENJOYMENT, OR NON-INFRINGEMENT.'}),e.jsx("h3",{className:"text-lg font-semibold mt-6 mb-2",children:"7. Limitation of Liability"}),e.jsx("p",{className:"mb-4",children:"IN NO EVENT SHALL PIT-BOX.COM, ITS OFFICERS, DIRECTORS, EMPLOYEES, OR AGENTS BE LIABLE FOR ANY INDIRECT, PUNITIVE, INCIDENTAL, SPECIAL, OR CONSEQUENTIAL DAMAGES ARISING OUT OF OR IN ANY WAY CONNECTED WITH THE USE OF THE SERVICE, WHETHER BASED ON CONTRACT, TORT, STRICT LIABILITY, OR OTHERWISE."}),e.jsx("h3",{className:"text-lg font-semibold mt-6 mb-2",children:"8. Racing Safety Disclaimer"}),e.jsx("p",{className:"mb-4",children:"PIT-BOX.COM provides tools for racing setup management, but we are not responsible for the safety or performance of any vehicle. Users are solely responsible for ensuring their vehicles meet all safety requirements and are properly maintained. Racing is inherently dangerous, and users participate at their own risk."}),e.jsx("h3",{className:"text-lg font-semibold mt-6 mb-2",children:"9. No Professional Advice"}),e.jsx("p",{className:"mb-4",children:"The information provided through the Service is for general informational purposes only and should not be considered professional advice. Users should consult with qualified professionals regarding specific racing, mechanical, or safety concerns."}),e.jsx("h3",{className:"text-lg font-semibold mt-6 mb-2",children:"10. Indemnification"}),e.jsx("p",{className:"mb-4",children:"You agree to indemnify and hold harmless PIT-BOX.COM, its contractors, licensors, and their respective directors, officers, employees, and agents from and against any and all claims and expenses, including attorneys' fees, arising out of your use of the Service."}),e.jsx("h3",{className:"text-lg font-semibold mt-6 mb-2",children:"11. Termination"}),e.jsx("p",{className:"mb-4",children:"We may terminate or suspend your account and access to the Service immediately, without prior notice or liability, for any reason whatsoever, including without limitation if you breach the Terms."}),e.jsx("h3",{className:"text-lg font-semibold mt-6 mb-2",children:"12. Changes to Terms"}),e.jsx("p",{className:"mb-4",children:"We reserve the right to modify or replace these Terms at any time. It is your responsibility to check the Terms periodically for changes. Your continued use of the Service following the posting of any changes constitutes acceptance of those changes."}),e.jsx("h3",{className:"text-lg font-semibold mt-6 mb-2",children:"13. Governing Law"}),e.jsx("p",{className:"mb-4",children:"These Terms shall be governed by and construed in accordance with the laws of the State of California, without regard to its conflict of law provisions."}),e.jsx("h3",{className:"text-lg font-semibold mt-6 mb-2",children:"14. Contact Information"}),e.jsx("p",{className:"mb-4",children:"For any questions about these Terms, please contact us at pit-box.com@mail.com."}),e.jsx("p",{className:"mt-8 text-sm text-gray-500 dark:text-gray-400",children:"Last updated: May 22, 2025"})]}),e.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),h)if(g)if(f.trim()){I(!0),v(null);try{let e="";try{const s=await fetch("https://api.ipify.org?format=json");e=(await s.json()).ip}catch(s){}const{error:t}=await l.from("terms_acceptance").insert({user_id:h.id,accepted_at:(new Date).toISOString(),signature:f.trim(),ip_address:e,terms_version:O});if(t)throw t;E(!0),x(!0),setTimeout(()=>{d("/home")},2e3)}catch(t){v("Failed to record your acceptance. Please try again.")}finally{I(!1)}}else v("Please provide your signature");else v("You must check the box to accept the terms");else v("You must be signed in to accept the terms")},className:"space-y-6",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("input",{type:"checkbox",id:"accept-terms",checked:g,onChange:e=>p(e.target.checked),className:"mt-1"}),e.jsx("label",{htmlFor:"accept-terms",className:"text-lg",children:"I have read, understood, and agree to the Terms of Service. I understand that by using PIT-BOX.COM, I do so at my own risk."})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"signature",className:"block text-lg font-medium mb-2",children:"Electronic Signature (Type your full name)"}),e.jsx("input",{type:"text",id:"signature",value:f,onChange:e=>b(e.target.value),className:"w-full p-3 rounded-lg",placeholder:"Your full name",required:!0}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"By typing your name above, you are signing this agreement electronically."})]}),e.jsx("button",{type:"submit",disabled:j||!g||!f.trim(),className:"w-full btn-primary py-3 text-lg font-semibold flex items-center justify-center gap-2",children:j?e.jsxs(e.Fragment,{children:[e.jsx(s,{className:"w-5 h-5 animate-spin"}),"Processing..."]}):e.jsxs(e.Fragment,{children:[e.jsx(r,{className:"w-5 h-5"}),"I Accept the Terms of Service"]})})]})]})]})]})}export{d as default};
