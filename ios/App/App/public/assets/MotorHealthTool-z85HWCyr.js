import{j as e,aV as s,L as a,O as r,aX as l,a9 as t,V as n,I as d,A as i,a0 as o}from"./ui-v2ReSvUE.js";import{r as c}from"./react-YWE4JMTy.js";import{u as x}from"./useMotorHealth-DUoccRwN.js";import{u as g}from"./index-Cgc97SP_.js";import"./router-BNBI7_bc.js";import"./supabase-Du4GZSDg.js";const m={"Sprint Car 360":{expected_life_laps:1e3,lap_range:"800-1,200",refresh_threshold:80,typical_rpm_range:"7800-8200",notes:"ASCS-style 360s; some stretch to 1,500 with careful tuning."},"Sprint Car 410":{expected_life_laps:700,lap_range:"500-900",refresh_threshold:80,typical_rpm_range:"8000-8400",notes:"Higher horsepower & RPM = shorter life. World of Outlaws teams rebuild often."},"Sprint Car Crate":{expected_life_laps:1750,lap_range:"1,500-2,000",refresh_threshold:80,typical_rpm_range:"6800-7200",notes:"Factory-sealed crate motors (e.g., GM 604) are lower-stress, longer-lived."},"Modified Big Block":{expected_life_laps:1250,lap_range:"1,000-1,500",refresh_threshold:80,typical_rpm_range:"6500-7000",notes:"Powerful but not run as hard as sprint motors; depends on track size."},"Modified Small Block":{expected_life_laps:1500,lap_range:"1,200-1,800",refresh_threshold:80,typical_rpm_range:"7000-7500",notes:"Slightly less stress than big block; better lap longevity."},"Modified Crate":{expected_life_laps:2150,lap_range:"1,800-2,500",refresh_threshold:80,typical_rpm_range:"6200-6800",notes:"Similar to crate Late Models; lower RPM = longer life."},"Late Model Crate":{expected_life_laps:2150,lap_range:"1,800-2,500",refresh_threshold:80,typical_rpm_range:"6500-7000",notes:"Sealed crate (e.g., GM 604/602); longevity depends on track conditions."},"Late Model Open":{expected_life_laps:1e3,lap_range:"800-1,200",refresh_threshold:80,typical_rpm_range:"7500-8000",notes:"Custom-built, high-compression engines; high power means shorter life."},"Super Late Model":{expected_life_laps:850,lap_range:"700-1,000",refresh_threshold:80,typical_rpm_range:"7800-8500",notes:"Equivalent to national-level open engines; extremely high stress."},Midget:{expected_life_laps:800,lap_range:"600-1,000",refresh_threshold:80,typical_rpm_range:"7500-8000",notes:"High RPM, short tracks; rebuild frequency similar to 410 sprint engines."},"Micro Sprint":{expected_life_laps:1250,lap_range:"1,000-1,500",refresh_threshold:80,typical_rpm_range:"6500-7200",notes:"Motorcycle-based 600cc engines; some run longer with regular oil changes."},"Mini Sprint":{expected_life_laps:1e3,lap_range:"800-1,200",refresh_threshold:80,typical_rpm_range:"7000-7500",notes:"Larger motorcycle-style 1000cc engines; heat cycles limit lifespan."},Custom:{expected_life_laps:1300,lap_range:"600-2,000+",refresh_threshold:80,typical_rpm_range:"6000-8000",notes:"Depends on build & application. Could range 600-2,000+ laps."}};function h(){const{user:h}=g(),{motors:p,loading:b,saveMotor:u,deleteMotor:y,addMotorEvent:f}=x(),[j,N]=c.useState(!1),[v,_]=c.useState(null),[k,w]=c.useState(!1),[M,C]=c.useState(null),[S,H]=c.useState(!1),[R,A]=c.useState({name:"",engine_class:"Sprint Car 360",motor_type:"",description:"",expected_life_laps:350,refresh_threshold:75,notes:""}),[P,T]=c.useState({date:(new Date).toISOString().split("T")[0],event_type:"race",laps:0,track_name:"",average_rpm:0,max_rpm:0,notes:""}),L=async()=>{h&&R.name.trim()?await u(R)&&(A({name:"",engine_class:"Sprint Car 360",motor_type:"",description:"",expected_life_laps:350,refresh_threshold:75,notes:""}),N(!1)):alert("Please enter a motor name")},I=async()=>{!v||!v.id||P.laps<=0?alert("Please enter lap count"):await f({motor_id:v.id,...P})&&(T({date:(new Date).toISOString().split("T")[0],event_type:"race",laps:0,track_name:"",average_rpm:0,max_rpm:0,notes:""}),w(!1),_(null))},E=e=>e>50?"text-green-600":e>25?"text-yellow-600":"text-red-600",O=e=>e>50?"bg-green-600":e>25?"bg-yellow-600":"bg-red-600";if(!h)return e.jsxs("div",{className:"text-center py-12",children:[e.jsx(s,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Sign in to track motor health"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Track engine hours, RPMs, maintenance schedules, and performance data"})]});if(b)return e.jsx("div",{className:"flex justify-center py-12",children:e.jsx(a,{className:"w-8 h-8 animate-spin text-brand-gold"})});if(k&&v){const s=v.total_laps||0,a=v.expected_life_laps?(v.expected_life_laps-s)/v.expected_life_laps*100:100,t=m[v.engine_class];return e.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("button",{onClick:()=>{w(!1),_(null)},className:"text-brand-gold hover:text-brand-gold-dark font-semibold",children:"← Back to Motors"})}),e.jsxs("div",{className:"bg-gradient-to-br from-blue-500/10 to-green-500/10 rounded-2xl p-5 sm:p-6 shadow-lg",children:[e.jsx("h3",{className:"text-2xl sm:text-3xl font-bold mb-2",children:v.name}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:v.engine_class}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{className:"bg-white/50 dark:bg-gray-800/50 rounded-xl p-3",children:[e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Current Laps"}),e.jsx("p",{className:"text-2xl sm:text-3xl font-bold",children:s})]}),e.jsxs("div",{className:"bg-white/50 dark:bg-gray-800/50 rounded-xl p-3",children:[e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Expected Life"}),e.jsx("p",{className:"text-2xl sm:text-3xl font-bold",children:v.expected_life_laps})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[e.jsx("span",{className:"font-medium",children:"Motor Health"}),e.jsxs("span",{className:`font-bold ${E(a)}`,children:[Math.round(a),"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-4",children:e.jsx("div",{className:`h-4 rounded-full transition-all ${O(a)}`,style:{width:`${Math.max(0,Math.min(100,a))}%`}})})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-5 sm:p-6 shadow-lg space-y-4",children:[e.jsxs("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[e.jsx(r,{className:"w-6 h-6 text-brand-gold"}),"Add Racing Session"]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Date *"}),e.jsx("input",{type:"date",value:P.date,onChange:e=>T(s=>({...s,date:e.target.value})),className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-900 border-2 border-gray-200 dark:border-gray-700 rounded-xl focus:border-brand-gold focus:outline-none transition-colors",style:{minHeight:"48px"}})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Event Type *"}),e.jsxs("select",{value:P.event_type,onChange:e=>T(s=>({...s,event_type:e.target.value})),className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-900 border-2 border-gray-200 dark:border-gray-700 rounded-xl focus:border-brand-gold focus:outline-none transition-colors",style:{minHeight:"48px"},children:[e.jsx("option",{value:"race",children:"Race"}),e.jsx("option",{value:"practice",children:"Practice"}),e.jsx("option",{value:"maintenance",children:"Maintenance"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Laps Run *"}),e.jsx("input",{type:"number",value:P.laps||"",onChange:e=>T(s=>({...s,laps:parseInt(e.target.value)||0})),placeholder:"Enter number of laps",className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-900 border-2 border-gray-200 dark:border-gray-700 rounded-xl focus:border-brand-gold focus:outline-none transition-colors text-lg font-medium",style:{minHeight:"52px"}})]}),e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(l,{className:"w-5 h-5 text-blue-600"}),e.jsx("h4",{className:"font-semibold",children:"RPM Tracking"})]}),e.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400 mb-3",children:["Typical range for ",v.engine_class,": ",(null==t?void 0:t.typical_rpm_range)||"N/A"," RPM"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Average RPM"}),e.jsx("input",{type:"number",value:P.average_rpm||"",onChange:e=>T(s=>({...s,average_rpm:parseInt(e.target.value)||0})),placeholder:"e.g., 8000",className:"w-full px-4 py-3 bg-white dark:bg-gray-800 border-2 border-gray-200 dark:border-gray-700 rounded-xl focus:border-brand-gold focus:outline-none",style:{minHeight:"48px"}})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Max RPM"}),e.jsx("input",{type:"number",value:P.max_rpm||"",onChange:e=>T(s=>({...s,max_rpm:parseInt(e.target.value)||0})),placeholder:"e.g., 8400",className:"w-full px-4 py-3 bg-white dark:bg-gray-800 border-2 border-gray-200 dark:border-gray-700 rounded-xl focus:border-brand-gold focus:outline-none",style:{minHeight:"48px"}})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Track Name"}),e.jsx("input",{type:"text",value:P.track_name,onChange:e=>T(s=>({...s,track_name:e.target.value})),placeholder:"e.g., Williams Grove Speedway",className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-900 border-2 border-gray-200 dark:border-gray-700 rounded-xl focus:border-brand-gold focus:outline-none transition-colors",style:{minHeight:"48px"}})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Notes"}),e.jsx("textarea",{value:P.notes,onChange:e=>T(s=>({...s,notes:e.target.value})),placeholder:"Any notes about the session...",rows:3,className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-900 border-2 border-gray-200 dark:border-gray-700 rounded-xl focus:border-brand-gold focus:outline-none transition-colors resize-none"})]}),e.jsxs("button",{onClick:I,disabled:b||P.laps<=0,className:"w-full py-4 bg-gradient-to-r from-brand-gold to-orange-500 text-white rounded-xl hover:shadow-lg disabled:opacity-50 font-bold text-lg inline-flex items-center justify-center gap-2 transition-all active:scale-95",style:{minHeight:"56px"},children:[e.jsx(r,{className:"w-6 h-6"}),"Save Session"]})]})]})}if(j){const s=m[R.engine_class];return e.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-bold",children:"Add New Motor"}),e.jsx("button",{onClick:()=>N(!1),className:"px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white font-medium",children:"Cancel"})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-5 sm:p-6 shadow-lg space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Motor Name *"}),e.jsx("input",{type:"text",value:R.name,onChange:e=>A(s=>({...s,name:e.target.value})),placeholder:"e.g., Primary 410, Backup 360",className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-900 border-2 border-gray-200 dark:border-gray-700 rounded-xl focus:border-brand-gold focus:outline-none transition-colors text-lg",style:{minHeight:"52px"}})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Engine Class *"}),e.jsx("select",{value:R.engine_class,onChange:e=>(e=>{const s=m[e];A(a=>({...a,engine_class:e,expected_life_laps:s.expected_life_laps,refresh_threshold:s.refresh_threshold}))})(e.target.value),className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-900 border-2 border-gray-200 dark:border-gray-700 rounded-xl focus:border-brand-gold focus:outline-none transition-colors text-lg font-medium",style:{minHeight:"52px"},children:Object.keys(m).map(s=>e.jsx("option",{value:s,children:s},s))})]}),e.jsxs("div",{className:"bg-gradient-to-br from-blue-500/10 to-green-500/10 rounded-xl p-4",children:[e.jsxs("p",{className:"text-sm font-bold mb-3 flex items-center gap-2",children:[e.jsx(t,{className:"w-5 h-5 text-blue-600"}),"AI-Calculated Values for ",R.engine_class]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 text-sm",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400 text-xs",children:"Expected Life:"}),e.jsxs("p",{className:"font-bold text-lg",children:[R.expected_life_laps," laps"]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400 text-xs",children:"Typical RPM:"}),e.jsx("p",{className:"font-bold text-lg",children:null==s?void 0:s.typical_rpm_range})]})]}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-3 italic",children:null==s?void 0:s.notes})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Motor Type / Builder"}),e.jsx("input",{type:"text",value:R.motor_type,onChange:e=>A(s=>({...s,motor_type:e.target.value})),placeholder:"e.g., Kistler, Weikert, Allen's",className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-900 border-2 border-gray-200 dark:border-gray-700 rounded-xl focus:border-brand-gold focus:outline-none transition-colors",style:{minHeight:"48px"}})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Description"}),e.jsx("input",{type:"text",value:R.description,onChange:e=>A(s=>({...s,description:e.target.value})),placeholder:"e.g., Fresh rebuild, race ready",className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-900 border-2 border-gray-200 dark:border-gray-700 rounded-xl focus:border-brand-gold focus:outline-none transition-colors",style:{minHeight:"48px"}})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Expected Life (laps)"}),e.jsx("input",{type:"number",value:R.expected_life_laps,onChange:e=>A(s=>({...s,expected_life_laps:parseInt(e.target.value)||500})),className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-900 border-2 border-gray-200 dark:border-gray-700 rounded-xl focus:border-brand-gold focus:outline-none transition-colors",style:{minHeight:"48px"}})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Refresh at (%)"}),e.jsx("input",{type:"number",value:R.refresh_threshold,onChange:e=>A(s=>({...s,refresh_threshold:parseInt(e.target.value)||75})),min:"0",max:"100",className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-900 border-2 border-gray-200 dark:border-gray-700 rounded-xl focus:border-brand-gold focus:outline-none transition-colors",style:{minHeight:"48px"}})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Notes"}),e.jsx("textarea",{value:R.notes,onChange:e=>A(s=>({...s,notes:e.target.value})),placeholder:"Any additional notes...",rows:3,className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-900 border-2 border-gray-200 dark:border-gray-700 rounded-xl focus:border-brand-gold focus:outline-none transition-colors resize-none"})]}),e.jsx("button",{onClick:L,disabled:b||!R.name.trim(),className:"w-full py-4 bg-gradient-to-r from-brand-gold to-orange-500 text-white rounded-xl hover:shadow-lg disabled:opacity-50 font-bold text-lg transition-all active:scale-95",style:{minHeight:"56px"},children:"Add Motor"})]})]})}return 0===p.length?e.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[e.jsxs("div",{className:"text-center py-12 bg-gradient-to-br from-blue-500/10 to-green-500/10 rounded-2xl shadow-lg",children:[e.jsx(s,{className:"w-16 h-16 mx-auto mb-4 text-brand-gold"}),e.jsx("h3",{className:"text-xl sm:text-2xl font-bold mb-2",children:"No motors tracked yet"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6 px-4",children:"Start tracking your engine health, RPMs, and rebuild schedules"}),e.jsxs("button",{onClick:()=>N(!0),className:"px-8 py-4 bg-gradient-to-r from-brand-gold to-orange-500 text-white rounded-xl hover:shadow-lg inline-flex items-center gap-2 font-bold text-lg transition-all active:scale-95",style:{minHeight:"56px"},children:[e.jsx(n,{className:"w-6 h-6"}),"Add Your First Motor"]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-5 sm:p-6 shadow-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h4",{className:"font-bold text-lg flex items-center gap-2",children:[e.jsx(t,{className:"w-6 h-6 text-brand-gold"}),"AI-Calculated Motor Life Expectancy"]}),e.jsx("button",{onClick:()=>H(!S),className:"text-brand-gold hover:text-brand-gold-dark font-medium text-sm",children:S?"Hide":"Show All"})]}),S&&e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 text-sm",children:Object.entries(m).map(([s,a])=>e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 rounded-xl p-4 border-2 border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("span",{className:"font-bold text-base",children:s}),e.jsx("span",{className:"text-brand-gold font-bold text-sm",children:a.lap_range})]}),e.jsxs("div",{className:"text-xs text-gray-600 dark:text-gray-400 space-y-1",children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-semibold",children:"Typical:"})," ",a.expected_life_laps," laps"]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-semibold",children:"RPM:"})," ",a.typical_rpm_range]}),e.jsx("p",{className:"italic",children:a.notes})]})]},s))}),!S&&e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:'Click "Show All" to see detailed engine life expectancy for all motor types based on real-world racing data, RPM ranges, and rebuild cycles.'}),e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-xl p-4 text-xs",children:[e.jsxs("h5",{className:"font-bold text-sm mb-2 flex items-center gap-2",children:[e.jsx(d,{className:"w-4 h-4 text-blue-600"}),"Important Notes"]}),e.jsxs("ul",{className:"space-y-1 text-gray-700 dark:text-gray-300",children:[e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Rebuild = refresh,"})," not full replacement (bearings, rings, valve work, etc.)"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:'"Hard" laps'}),' (tacky track, heavy throttle) wear engines faster than "slick" track laps']}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Time-based rebuilds"})," (20-30 engine hours) are common in higher-tier teams"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Oil analysis"})," and compression/leakdown testing can extend intervals safely"]}),e.jsxs("li",{children:["• Refresh threshold set at ",e.jsx("strong",{children:"80%"})," to give proper warning before critical wear"]})]})]})]})]})]}):e.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold flex items-center gap-2",children:[e.jsx(s,{className:"w-7 h-7 text-brand-gold"}),"Your Motors"]}),e.jsxs("button",{onClick:()=>N(!0),className:"px-4 py-2 bg-gradient-to-r from-brand-gold to-orange-500 text-white rounded-xl hover:shadow-lg inline-flex items-center gap-2 font-bold transition-all active:scale-95",style:{minHeight:"48px"},children:[e.jsx(n,{className:"w-5 h-5"}),e.jsx("span",{className:"hidden sm:inline",children:"Add Motor"}),e.jsx("span",{className:"sm:hidden",children:"Add"})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:p.map(a=>{const r=a.total_laps||0,l=a.expected_life_laps?(a.expected_life_laps-r)/a.expected_life_laps*100:100,t=M===a.id;return e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-5 shadow-lg border-2 border-gray-200 dark:border-gray-700 hover:border-brand-gold transition-all",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"font-bold text-lg truncate",children:a.name}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:a.engine_class}),a.motor_type&&e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500",children:a.motor_type})]}),e.jsx(s,{className:`w-6 h-6 flex-shrink-0 ml-2 ${E(l)}`})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 rounded-lg p-3",children:[e.jsx("span",{className:"text-xs text-gray-600 dark:text-gray-400 block mb-1",children:"Current"}),e.jsx("span",{className:"font-bold text-lg",children:r}),e.jsx("span",{className:"text-xs text-gray-500 ml-1",children:"laps"})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 rounded-lg p-3",children:[e.jsx("span",{className:"text-xs text-gray-600 dark:text-gray-400 block mb-1",children:"Life"}),e.jsx("span",{className:"font-bold text-lg",children:a.expected_life_laps}),e.jsx("span",{className:"text-xs text-gray-500 ml-1",children:"laps"})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-xs mb-2",children:[e.jsx("span",{className:"font-semibold",children:"Motor Health"}),e.jsxs("span",{className:`font-bold text-sm ${E(l)}`,children:[Math.round(l),"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3",children:e.jsx("div",{className:`h-3 rounded-full transition-all ${O(l)}`,style:{width:`${Math.max(0,Math.min(100,l))}%`}})})]}),l<a.refresh_threshold&&e.jsxs("div",{className:"flex items-center gap-2 text-xs bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 py-2 px-3 rounded-lg font-medium",children:[e.jsx(i,{className:"w-4 h-4 flex-shrink-0"}),e.jsx("span",{children:"Refresh recommended"})]}),e.jsx("div",{className:"flex gap-2 pt-2",children:t?e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>(async e=>{await y(e),C(null)})(a.id),className:"flex-1 py-3 bg-red-600 text-white rounded-xl hover:bg-red-700 font-bold text-sm transition-all active:scale-95",style:{minHeight:"44px"},children:"Confirm Delete"}),e.jsx("button",{onClick:()=>C(null),className:"px-4 py-3 bg-gray-200 dark:bg-gray-700 rounded-xl hover:bg-gray-300 dark:hover:bg-gray-600 font-medium text-sm transition-colors",style:{minHeight:"44px"},children:"Cancel"})]}):e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>{_(a),w(!0)},className:"flex-1 py-3 bg-gradient-to-r from-brand-gold to-orange-500 text-white rounded-xl hover:shadow-lg font-bold inline-flex items-center justify-center gap-1 text-sm transition-all active:scale-95",style:{minHeight:"44px"},children:[e.jsx(n,{className:"w-4 h-4"}),"Add Session"]}),e.jsx("button",{onClick:()=>{return e=a.id,void C(e);var e},className:"p-3 bg-red-50 dark:bg-red-900/20 text-red-600 rounded-xl hover:bg-red-100 dark:hover:bg-red-900/30 transition-colors",style:{minHeight:"44px",minWidth:"44px"},children:e.jsx(o,{className:"w-5 h-5"})})]})})]})]},a.id)})}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-5 sm:p-6 shadow-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h4",{className:"font-bold text-lg flex items-center gap-2",children:[e.jsx(t,{className:"w-6 h-6 text-brand-gold"}),"Engine Lifespan Reference Guide"]}),e.jsx("button",{onClick:()=>H(!S),className:"text-brand-gold hover:text-brand-gold-dark font-medium text-sm",children:S?"Hide":"Show All"})]}),S&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 text-sm",children:Object.entries(m).map(([s,a])=>e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 rounded-xl p-4 border-2 border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("span",{className:"font-bold text-base",children:s}),e.jsx("span",{className:"text-brand-gold font-bold text-sm",children:a.lap_range})]}),e.jsxs("div",{className:"text-xs text-gray-600 dark:text-gray-400 space-y-1",children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-semibold",children:"Typical:"})," ",a.expected_life_laps," laps"]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-semibold",children:"RPM:"})," ",a.typical_rpm_range]}),e.jsx("p",{className:"italic",children:a.notes})]})]},s))}),e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-xl p-4 text-xs",children:[e.jsxs("h5",{className:"font-bold text-sm mb-2 flex items-center gap-2",children:[e.jsx(d,{className:"w-4 h-4 text-blue-600"}),"Additional Notes"]}),e.jsxs("ul",{className:"space-y-1 text-gray-700 dark:text-gray-300",children:[e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Rebuild = refresh,"})," not full replacement — often includes bearings, rings, valve work, etc."]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:'"Hard" laps'}),' (tacky track, heavy throttle) wear an engine faster than "slick" track laps']}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Time-based rebuilds"})," (e.g., every 20-30 engine hours) are also common in higher-tier teams"]}),e.jsxs("li",{children:["• Proper ",e.jsx("strong",{children:"oil analysis"})," and compression/leakdown testing can help extend intervals safely"]}),e.jsxs("li",{children:["• All motors set to ",e.jsx("strong",{children:"80% refresh threshold"})," for optimal maintenance scheduling"]})]})]})]}),!S&&e.jsx("div",{className:"space-y-3",children:e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:'Click "Show All" to see detailed engine life expectancy for all 13 motor classes.'})})]}),e.jsxs("div",{className:"bg-gradient-to-br from-orange-500/10 to-red-500/10 rounded-2xl p-5 sm:p-6 shadow-lg",children:[e.jsxs("h4",{className:"font-bold mb-3 flex items-center gap-2 text-lg",children:[e.jsx(d,{className:"w-6 h-6 text-orange-600"}),"Motor Health Tips"]}),e.jsxs("ul",{className:"text-sm space-y-2 text-gray-700 dark:text-gray-300",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-brand-gold font-bold",children:"•"}),e.jsx("span",{children:"Track lap count and RPMs after every race and practice session"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-brand-gold font-bold",children:"•"}),e.jsx("span",{children:"Schedule refreshes when motor health reaches the 80% threshold"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-brand-gold font-bold",children:"•"}),e.jsx("span",{children:"High RPMs reduce motor life - monitor average and max RPMs closely"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-brand-gold font-bold",children:"•"}),e.jsx("span",{children:"Different engine classes have vastly different life expectancies (500-2,500 laps)"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-brand-gold font-bold",children:"•"}),e.jsx("span",{children:"Keep detailed records for warranty claims and resale value"})]})]})]})]})}export{h as default};
