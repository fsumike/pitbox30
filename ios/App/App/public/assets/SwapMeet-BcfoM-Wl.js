import{j as e,X as a,B as s,a0 as t,L as r,_ as l,ad as i,a6 as n,a5 as o,M as d,$ as c,a4 as m,m as x,ae as g,H as h,V as u,g as p,af as b,f as j,p as f,h as y,i as v,ag as N,a as w,N as k,o as C,e as S,ah as L,ai as F,a8 as P,u as M,v as T,E as _}from"./ui-v2ReSvUE.js";import{r as E}from"./react-YWE4JMTy.js";import{s as A,v as O,u as D,S as R,c as q}from"./index-Cgc97SP_.js";import{u as I}from"./useListings-dWj5wCYh.js";import{u as $}from"./useLocation-D3TBQNJQ.js";import{u as G}from"./router-BNBI7_bc.js";import{f as B}from"./formatDistanceToNow-C1OK0Che.js";import{f as H}from"./format-DltpeZFQ.js";import"./supabase-Du4GZSDg.js";function U({isOpen:m,onClose:x,onSuccess:g}){const[h,u]=E.useState(""),[p,b]=E.useState(""),[j,f]=E.useState(""),[y,v]=E.useState(""),[N,w]=E.useState([]),[k,C]=E.useState(!1),[S,L]=E.useState(null),[F,P]=E.useState(""),[M,T]=E.useState(""),[_,D]=E.useState("phone"),[R,q]=E.useState(""),[G,B]=E.useState(!0),[H,U]=E.useState("good"),[V,Y]=E.useState(!0),{createListing:W,loading:z}=I(),{latitude:X,longitude:K,address:Z,city:J,state:Q,loading:ee,error:ae,getLocation:se}=$({enableHighAccuracy:!0,enableGeocoding:!0});E.useEffect(()=>{te()},[]);const te=async()=>{try{const{data:{user:e}}=await A.auth.getUser();if(e){const{data:a}=await A.from("profiles").select("phone").eq("id",e.id).single();a&&P(a.phone||""),T(e.email||"")}}catch(e){}},re=O.Vehicles.flatMap(e=>e.subcategories.map(e=>({name:e.name,value:e.path.replace("/","")})));return m?e.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm",onClick:x}),e.jsxs("div",{className:"min-h-screen px-4 text-center",children:[e.jsx("span",{className:"inline-block h-screen align-middle","aria-hidden":"true",children:"​"}),e.jsxs("div",{className:"inline-block w-full max-w-2xl p-6 my-8 text-left align-middle bg-white dark:bg-brand-black-light rounded-2xl shadow-xl transform transition-all relative",onClick:e=>e.stopPropagation(),children:[e.jsx("button",{onClick:x,className:"absolute top-4 right-4 p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full transition-colors","aria-label":"Close modal",children:e.jsx(a,{className:"w-6 h-6"})}),e.jsx("h2",{className:"text-2xl font-bold mb-6 pr-12",children:"Create New Listing"}),S&&e.jsxs("div",{className:"mb-4 p-3 rounded-lg bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300 flex items-center gap-2",children:[e.jsx(s,{className:"w-5 h-5 flex-shrink-0"}),S]}),e.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),L(null),h&&p&&j&&y)if(0!==N.length)if(F||M)try{let e="Location not provided";G&&(e=J&&Q?`${J}, ${Q}`:J||Q||"Current Location"),await W({title:h,description:p,price:parseFloat(j),category:y,location:e,latitude:G&&X||void 0,longitude:G&&K||void 0,contact_phone:F,contact_email:M,preferred_contact:_,vehicle_type:R,condition:H,is_negotiable:V},N)&&(u(""),b(""),f(""),v(""),w([]),L(null),q(""),B(!0),U("good"),Y(!0),null==g||g(),x())}catch(a){L("Failed to create listing")}else L("Please provide at least one contact method");else L("Please add at least one image");else L("Please fill in all required fields")},className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Photos (max 4)"}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[N.map((a,s)=>e.jsxs("div",{className:"relative aspect-square",children:[e.jsx("img",{src:a,alt:`Upload ${s+1}`,className:"w-full h-full object-cover rounded-lg"}),e.jsx("button",{type:"button",onClick:()=>(e=>{w(a=>a.filter((a,s)=>s!==e))})(s),className:"absolute top-1 right-1 p-1 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors",children:e.jsx(t,{className:"w-4 h-4"})})]},s)),N.length<4&&e.jsxs("label",{className:"aspect-square border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg flex flex-col items-center justify-center cursor-pointer hover:border-brand-gold transition-colors",children:[k?e.jsx(r,{className:"w-8 h-8 animate-spin text-brand-gold"}):e.jsxs(e.Fragment,{children:[e.jsx(l,{className:"w-8 h-8 mb-2 text-gray-400"}),e.jsx("span",{className:"text-sm text-gray-500",children:"Upload Photo"})]}),e.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:e=>{const a=e.target.files;a&&(N.length+a.length>4?L("Maximum 4 images allowed"):(C(!0),L(null),Array.from(a).forEach(e=>{const a=new FileReader;a.onloadend=()=>{"string"==typeof a.result&&w(e=>[...e,a.result]),C(!1)},a.onerror=()=>{L("Failed to upload image"),C(!1)},a.readAsDataURL(e)}),e.target.value=""))},multiple:!0})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"title",className:"block text-sm font-medium mb-1",children:"Title"}),e.jsx("input",{type:"text",id:"title",value:h,onChange:e=>u(e.target.value),className:"w-full p-3 rounded-lg",placeholder:"What are you selling?",maxLength:100,required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"category",className:"block text-sm font-medium mb-1",children:"Category"}),e.jsxs("select",{id:"category",value:y,onChange:e=>v(e.target.value),className:"w-full p-3 rounded-lg",required:!0,children:[e.jsx("option",{value:"",children:"Select a category"}),["Race Cars","Engines & Parts","Trailers & Transport","Tools & Equipment","Safety Gear","Tires & Wheels","Electronics","Memorabilia","Other"].map(a=>e.jsx("option",{value:a,children:a},a))]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"vehicleType",className:"block text-sm font-medium mb-1",children:"Vehicle Type"}),e.jsxs("select",{id:"vehicleType",value:R,onChange:e=>q(e.target.value),className:"w-full p-3 rounded-lg",children:[e.jsx("option",{value:"",children:"Select vehicle type (optional)"}),re.map(a=>e.jsx("option",{value:a.value,children:a.name},a.value))]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"condition",className:"block text-sm font-medium mb-1",children:"Condition"}),e.jsxs("select",{id:"condition",value:H,onChange:e=>U(e.target.value),className:"w-full p-3 rounded-lg",required:!0,children:[e.jsx("option",{value:"new",children:"New"}),e.jsx("option",{value:"like-new",children:"Like New"}),e.jsx("option",{value:"good",children:"Good"}),e.jsx("option",{value:"fair",children:"Fair"}),e.jsx("option",{value:"parts",children:"For Parts"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"price",className:"block text-sm font-medium mb-1",children:"Price"}),e.jsxs("div",{className:"relative",children:[e.jsx(i,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"number",id:"price",value:j,onChange:e=>f(e.target.value),className:"w-full pl-10 p-3 rounded-lg",placeholder:"0.00",min:"0",step:"0.01",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"description",className:"block text-sm font-medium mb-1",children:"Description"}),e.jsx("textarea",{id:"description",value:p,onChange:e=>b(e.target.value),className:"w-full p-3 rounded-lg",rows:4,placeholder:"Describe what you're selling...",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:V,onChange:e=>Y(e.target.checked),className:"form-checkbox h-5 w-5 text-brand-gold rounded"}),e.jsx("span",{className:"text-sm font-medium",children:"Price is negotiable"})]}),e.jsx("p",{className:"ml-7 text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Allow buyers to make offers on your listing"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Contact Information"}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"contactPhone",className:"block text-sm font-medium mb-1",children:"Phone Number"}),e.jsxs("div",{className:"relative",children:[e.jsx(n,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"tel",id:"contactPhone",value:F,onChange:e=>P(e.target.value),className:"w-full pl-10 p-3 rounded-lg",placeholder:"Your phone number"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"contactEmail",className:"block text-sm font-medium mb-1",children:"Email"}),e.jsxs("div",{className:"relative",children:[e.jsx(o,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"email",id:"contactEmail",value:M,onChange:e=>T(e.target.value),className:"w-full pl-10 p-3 rounded-lg",placeholder:"Your email address"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Preferred Contact Method"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:"preferredContact",value:"phone",checked:"phone"===_,onChange:()=>D("phone"),className:"mr-2"}),"Phone"]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:"preferredContact",value:"email",checked:"email"===_,onChange:()=>D("email"),className:"mr-2"}),"Email"]})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:G,onChange:()=>{G||se(),B(!G)},className:"form-checkbox h-5 w-5 text-brand-gold rounded"}),e.jsx("span",{className:"text-sm font-medium",children:"Include my location in this listing"})]}),G&&e.jsx("div",{className:"ml-7 text-sm text-gray-500 dark:text-gray-400",children:ee?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(r,{className:"w-4 h-4 animate-spin"}),e.jsx("span",{children:"Getting location..."})]}):ae?e.jsxs("div",{className:"flex items-center gap-2 text-red-500",children:[e.jsx(s,{className:"w-4 h-4"}),e.jsx("span",{children:ae})]}):J&&Q?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(d,{className:"w-4 h-4"}),e.jsxs("span",{className:"truncate",children:[J,", ",Q]})]}):J?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(d,{className:"w-4 h-4"}),e.jsx("span",{className:"truncate",children:J})]}):Q?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(d,{className:"w-4 h-4"}),e.jsx("span",{className:"truncate",children:Q})]}):e.jsx("div",{className:"text-gray-400",children:"Getting city..."})}),e.jsx("p",{className:"ml-7 text-xs text-gray-500 dark:text-gray-400",children:G?"Buyers will see your city and state only - no street address.":"Your location will not be shared with buyers."})]}),e.jsxs("div",{className:"flex justify-end gap-4",children:[e.jsx("button",{type:"button",onClick:x,className:"px-6 py-2 rounded-lg bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:z||k,className:"btn-primary flex items-center gap-2",children:z?e.jsxs(e.Fragment,{children:[e.jsx(r,{className:"w-5 h-5 animate-spin"}),"Creating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(c,{className:"w-5 h-5"}),"Post Listing"]})})]})]})]})]})]}):null}function V({recipientId:a,onStartChat:s,className:t=""}){const{user:r}=D();return r&&r.id!==a?e.jsxs("button",{onClick:()=>s(a),className:`flex items-center gap-2 px-4 py-2 bg-brand-gold text-white rounded-lg hover:bg-brand-gold-dark transition-colors ${t}`,children:[e.jsx(m,{className:"w-5 h-5"}),e.jsx("span",{children:"Message"})]}):null}function Y({activeTab:a,onTabChange:s,onCreateListing:t}){return e.jsx(x.div,{className:"fixed bottom-0 left-0 right-0 z-50 bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 shadow-lg safe-area-bottom md:hidden",initial:{y:100},animate:{y:0},transition:{type:"spring",damping:20,stiffness:300},children:e.jsxs("div",{className:"flex justify-around items-center h-16",children:[e.jsxs("button",{onClick:()=>s("all"),className:"flex flex-col items-center justify-center w-full h-full "+("all"===a?"text-brand-gold":"text-gray-500"),children:[e.jsx(g,{className:"w-6 h-6"}),e.jsx("span",{className:"text-xs mt-1",children:"Browse"})]}),e.jsxs("button",{onClick:()=>s("favorites"),className:"flex flex-col items-center justify-center w-full h-full "+("favorites"===a?"text-brand-gold":"text-gray-500"),children:[e.jsx(h,{className:"w-6 h-6"}),e.jsx("span",{className:"text-xs mt-1",children:"Favorites"})]}),e.jsx("button",{onClick:t,className:"flex flex-col items-center justify-center w-full h-full",children:e.jsx("div",{className:"w-12 h-12 rounded-full bg-brand-gold flex items-center justify-center -mt-6 shadow-lg",children:e.jsx(u,{className:"w-6 h-6 text-white"})})}),e.jsxs("button",{onClick:()=>s("mine"),className:"flex flex-col items-center justify-center w-full h-full "+("mine"===a?"text-brand-gold":"text-gray-500"),children:[e.jsx(p,{className:"w-6 h-6"}),e.jsx("span",{className:"text-xs mt-1",children:"My Listings"})]}),e.jsxs("button",{onClick:()=>s("saved"),className:"flex flex-col items-center justify-center w-full h-full "+("saved"===a?"text-brand-gold":"text-gray-500"),children:[e.jsx(b,{className:"w-6 h-6"}),e.jsx("span",{className:"text-xs mt-1",children:"Saved"})]})]})})}function W({listing:s,onClose:t}){const{startChat:r}=q();return e.jsx("div",{className:"fixed inset-0 z-[1200] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:e.jsx(x.div,{className:"bg-white dark:bg-gray-800 rounded-xl shadow-xl w-full max-w-md",onClick:e=>e.stopPropagation(),initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},children:e.jsxs("div",{className:"relative p-6",children:[e.jsx("button",{onClick:t,className:"absolute top-4 right-4 p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full",children:e.jsx(a,{className:"w-6 h-6"})}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Contact Seller"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:s.title})]}),e.jsxs("div",{className:"space-y-6",children:[s.contact_phone&&e.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-lg bg-gray-50 dark:bg-gray-800",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center",children:e.jsx(n,{className:"w-5 h-5 text-green-600 dark:text-green-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Phone"}),e.jsx("p",{className:"text-lg font-semibold",children:s.contact_phone})]})]}),s.contact_email&&e.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-lg bg-gray-50 dark:bg-gray-800",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center",children:e.jsx(o,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Email"}),e.jsx("p",{className:"text-lg font-semibold",children:s.contact_email})]})]}),e.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200 dark:border-gray-700",children:e.jsx(V,{recipientId:s.user_id,onStartChat:e=>{r(e),t()},className:"w-full justify-center py-3"})}),s.preferred_contact&&e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 text-center",children:e.jsxs("p",{children:["Preferred contact method: ",s.preferred_contact]})})]})]})})})}function z(){const[l,n]=E.useState(!1),[o,m]=E.useState(!1),[A,O]=E.useState([]),[q,V]=E.useState(!0),[z,X]=E.useState(""),[K,Z]=E.useState(null),[J,Q]=E.useState(null),[ee,ae]=E.useState(null),[se,te]=E.useState("all"),[re,le]=E.useState("all"),[ie,ne]=E.useState(null),[oe,de]=E.useState("all"),[ce,me]=E.useState("recent"),[xe,ge]=E.useState({min:"",max:""}),[he,ue]=E.useState("all"),[pe,be]=E.useState(!1),[je,fe]=E.useState(!1),[ye,ve]=E.useState(!1),[Ne,we]=E.useState(null),[ke,Ce]=E.useState(""),[Se,Le]=E.useState(!1),{user:Fe}=D(),Pe=$({enableGeocoding:!1,autoFetch:!1}),Me=G(),{getListings:Te,toggleLike:_e,toggleSave:Ee,deleteListing:Ae,hasMore:Oe}=I(),[De,Re]=E.useState(0);E.useEffect(()=>{Re(0),qe(0)},[re,se,oe,ce,he,xe,ye,Ne,Pe.latitude,Pe.longitude]),E.useEffect(()=>{De>0&&qe(De)},[De]);const qe=async(e=0)=>{V(!0);try{const a={category:"all"!==se?se:void 0,search:z,tab:re,vehicleType:"all"!==oe?oe:void 0,page:e,limit:24};ye&&Ne&&Pe.latitude&&Pe.longitude&&(a.distance=Ne,a.latitude=Pe.latitude,a.longitude=Pe.longitude);let s=await Te(a);switch("all"!==he&&(s=s.filter(e=>e.condition===he)),xe.min&&(s=s.filter(e=>e.price>=parseFloat(xe.min))),xe.max&&(s=s.filter(e=>e.price<=parseFloat(xe.max))),ce){case"price-low":s.sort((e,a)=>e.price-a.price);break;case"price-high":s.sort((e,a)=>a.price-e.price);break;case"popular":s.sort((e,a)=>(a.likes||0)-(e.likes||0))}O(0===e?s:e=>[...e,...s])}catch(a){}finally{V(!1)}},Ie=()=>{n(!0)},$e=()=>{Fe?m(!0):Ie()},Ge=e=>{try{const a=new Date(e),s=new Date,t=Math.abs(s.getTime()-a.getTime())/36e5;return t<24?B(a,{addSuffix:!0}):t<48?"Yesterday":H(a,"MMM d, yyyy")}catch(a){return"some time ago"}};return e.jsxs("div",{className:"space-y-8 pb-20 md:pb-0",children:[e.jsxs("div",{className:"glass-panel p-8 bg-gradient-to-br from-brand-gold/10 via-brand-gold/5 to-brand-gold/10",children:[e.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-8",children:[e.jsx("div",{className:"flex-1 text-center md:text-left",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("h2",{className:"text-2xl md:text-3xl font-medium text-gray-600 dark:text-gray-400",children:"Welcome to"}),e.jsx("h1",{className:"text-4xl md:text-5xl font-bold bg-gradient-to-r from-brand-gold to-brand-gold-light bg-clip-text text-transparent mb-2",children:"Swap Meet"}),e.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400",children:"Where buyers and sellers go"})]})}),e.jsxs("div",{className:"flex-shrink-0 relative",children:[e.jsx("div",{className:"absolute -inset-4 bg-brand-gold/20 rounded-full blur-2xl animate-pulse"}),e.jsx("img",{src:"/android-icon-512-512.png",alt:"PIT-BOX.COM Swap Meet",className:"w-48 h-48 object-contain drop-shadow-xl transform hover:scale-105 transition-transform duration-300 relative z-10"})]})]}),e.jsxs("div",{className:"mt-12 grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("button",{onClick:()=>Me("/home"),className:"glass-panel p-6 text-center transform hover:scale-105 transition-all duration-300 relative group",children:[e.jsx("div",{className:"absolute inset-0 rounded-xl border-2 border-brand-gold/50 opacity-0 group-hover:opacity-100 transition-opacity"}),e.jsx(j,{className:"w-8 h-8 text-brand-gold mx-auto mb-2"}),e.jsx("div",{className:"text-lg font-semibold",children:"Setup Management"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2",children:"Access our professional-grade setup tools to fine-tune your racing machine for peak performance"}),e.jsxs("div",{className:"flex items-center justify-center gap-1 mt-3 text-brand-gold font-medium",children:[e.jsx(f,{className:"w-4 h-4"}),e.jsx("span",{children:"Click to access"})]})]}),e.jsxs("button",{onClick:()=>Me("/community"),className:"glass-panel p-6 text-center transform hover:scale-105 transition-all duration-300 relative group",children:[e.jsx("div",{className:"absolute inset-0 rounded-xl border-2 border-brand-gold/50 opacity-0 group-hover:opacity-100 transition-opacity"}),e.jsx(y,{className:"w-8 h-8 text-brand-gold mx-auto mb-2"}),e.jsx("div",{className:"text-lg font-semibold",children:"Racing Community"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2",children:"Connect with fellow racers, share experiences, and stay updated with the latest racing insights"}),e.jsxs("div",{className:"flex items-center justify-center gap-1 mt-3 text-brand-gold font-medium",children:[e.jsx(f,{className:"w-4 h-4"}),e.jsx("span",{children:"Click to join"})]})]}),e.jsxs("button",{onClick:()=>Me("/affiliates"),className:"glass-panel p-6 text-center transform hover:scale-105 transition-all duration-300 relative group",children:[e.jsx("div",{className:"absolute inset-0 rounded-xl border-2 border-brand-gold/50 opacity-0 group-hover:opacity-100 transition-opacity"}),e.jsx(v,{className:"w-8 h-8 text-brand-gold mx-auto mb-2"}),e.jsx("div",{className:"text-lg font-semibold",children:"Partner Network"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2",children:"Explore our trusted network of racing partners, suppliers, and industry experts"}),e.jsxs("div",{className:"flex items-center justify-center gap-1 mt-3 text-brand-gold font-medium",children:[e.jsx(f,{className:"w-4 h-4"}),e.jsx("span",{children:"Click to explore"})]})]})]})]}),e.jsxs("div",{className:"glass-panel p-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(g,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search listings...",value:z,onChange:e=>X(e.target.value),onKeyDown:e=>{"Enter"===e.key&&qe()},className:"w-full pl-10 pr-4 py-3 rounded-xl bg-white/50 dark:bg-gray-800/50 border border-gray-200 dark:border-gray-700 focus:ring-2 focus:ring-brand-gold"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(N,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),e.jsx("select",{value:se,onChange:e=>te(e.target.value.toLowerCase().replace(/ /g,"-")),className:"w-full pl-10 pr-4 py-3 rounded-xl bg-white/50 dark:bg-gray-800/50 border border-gray-200 dark:border-gray-700 focus:ring-2 focus:ring-brand-gold appearance-none",children:["All Categories","Race Cars","Engines & Parts","Trailers & Transport","Tools & Equipment","Safety Gear","Tires & Wheels","Electronics","Memorabilia","Other"].map(a=>e.jsx("option",{value:a.toLowerCase().replace(/ /g,"-"),children:a},a))}),e.jsx(w,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400"})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{value:ce,onChange:e=>me(e.target.value),className:"w-full pl-4 pr-4 py-3 rounded-xl bg-white/50 dark:bg-gray-800/50 border border-gray-200 dark:border-gray-700 focus:ring-2 focus:ring-brand-gold appearance-none",children:[e.jsx("option",{value:"recent",children:"Most Recent"}),e.jsx("option",{value:"price-low",children:"Price: Low to High"}),e.jsx("option",{value:"price-high",children:"Price: High to Low"}),e.jsx("option",{value:"popular",children:"Most Popular"})]}),e.jsx(w,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400"})]}),e.jsxs("button",{onClick:()=>be(!pe),className:"px-6 py-3 rounded-xl bg-brand-gold/10 hover:bg-brand-gold/20 text-brand-gold font-medium transition-colors flex items-center gap-2 whitespace-nowrap",children:[e.jsx(j,{className:"w-5 h-5"}),pe?"Hide Filters":"More Filters"]})]}),pe&&e.jsxs(x.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-6 p-6 glass-panel space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Advanced Filters"}),e.jsxs("div",{className:"mb-6 p-4 rounded-lg bg-gradient-to-r from-blue-50 to-cyan-50 dark:from-blue-900/20 dark:to-cyan-900/20 border border-blue-200 dark:border-blue-800",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(k,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),e.jsx("h4",{className:"font-semibold text-blue-900 dark:text-blue-100",children:"Distance Filter"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:ye,onChange:e=>{const a=e.target.checked;ve(a),a&&!Pe.latitude?Le(!0):a||we(null)},className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]}),ye&&e.jsxs("div",{className:"space-y-4",children:[Pe.latitude?e.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-700 dark:text-green-400 bg-green-100 dark:bg-green-900/30 px-3 py-2 rounded-lg",children:[e.jsx(d,{className:"w-4 h-4"}),e.jsx("span",{children:Pe.isManual?Pe.address:Pe.city&&Pe.state?`${Pe.city}, ${Pe.state}`:"Location detected"}),e.jsx("button",{onClick:()=>{Pe.clearLocation(),ve(!1),we(null)},className:"ml-auto p-1 hover:bg-green-200 dark:hover:bg-green-800 rounded",children:e.jsx(a,{className:"w-3 h-3"})})]}):e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"flex gap-2",children:e.jsx("button",{onClick:()=>{Le(!0),Pe.getLocation()},disabled:Pe.loading,className:"flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:Pe.loading?e.jsxs(e.Fragment,{children:[e.jsx(r,{className:"w-4 h-4 animate-spin"}),"Detecting..."]}):e.jsxs(e.Fragment,{children:[e.jsx(d,{className:"w-4 h-4"}),"Use My Location"]})})}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-gray-300 dark:border-gray-600"})}),e.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:e.jsx("span",{className:"bg-gradient-to-r from-blue-50 to-cyan-50 dark:from-blue-900/20 dark:to-cyan-900/20 px-2 text-gray-500",children:"Or"})})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",placeholder:"Enter ZIP Code",value:ke,onChange:e=>Ce(e.target.value),className:"flex-1 px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800",maxLength:5}),e.jsx("button",{onClick:async()=>{5===ke.length&&await Pe.setManualLocation(ke)},disabled:5!==ke.length,className:"px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg font-medium transition-colors disabled:opacity-50",children:"Set"})]})]}),Pe.latitude&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700 dark:text-gray-300",children:"Show items within:"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[[25,50,100,200,500].map(a=>e.jsxs("button",{onClick:()=>{we(a),ye||ve(!0)},className:"px-4 py-2 rounded-lg font-medium transition-colors "+(Ne===a?"bg-blue-600 text-white":"bg-white dark:bg-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 border border-gray-300 dark:border-gray-600"),children:[a," miles"]},a)),e.jsx("button",{onClick:()=>{we(null),ve(!1)},className:"px-4 py-2 rounded-lg font-medium transition-colors "+(null!==Ne||ye?"bg-white dark:bg-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 border border-gray-300 dark:border-gray-600":"bg-blue-600 text-white"),children:"All"})]})]}),Pe.error&&e.jsxs("div",{className:"flex items-start gap-2 text-sm text-amber-700 dark:text-amber-400 bg-amber-100 dark:bg-amber-900/30 px-3 py-2 rounded-lg",children:[e.jsx(s,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:Pe.error})]}),e.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400 flex items-start gap-1",children:[e.jsx(v,{className:"w-3 h-3 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"Your location is only used to filter listings and is not stored. This helps you find parts near you."})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700 dark:text-gray-300",children:"Vehicle Type"}),e.jsxs("div",{className:"relative",children:[e.jsx("select",{value:oe,onChange:e=>de(e.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-white appearance-none cursor-pointer hover:border-gray-400 dark:hover:border-gray-500 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500",children:[{value:"all",label:"All Vehicle Types"},{value:"410",label:"410 Sprint"},{value:"360",label:"360 Sprint"},{value:"600",label:"600 Micro"},{value:"latemodel",label:"Late Model"},{value:"modified",label:"Modified"},{value:"mini",label:"Mini Sprint"},{value:"midget",label:"Midget"}].map(a=>e.jsx("option",{value:a.value,children:a.label},a.value))}),e.jsx(w,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-500 pointer-events-none"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700 dark:text-gray-300",children:"Condition"}),e.jsxs("div",{className:"relative",children:[e.jsx("select",{value:he,onChange:e=>ue(e.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-white appearance-none cursor-pointer hover:border-gray-400 dark:hover:border-gray-500 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500",children:[{value:"all",label:"All Conditions"},{value:"new",label:"New"},{value:"like-new",label:"Like New"},{value:"good",label:"Good"},{value:"fair",label:"Fair"},{value:"parts",label:"For Parts"}].map(a=>e.jsx("option",{value:a.value,children:a.label},a.value))}),e.jsx(w,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-500 pointer-events-none"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700 dark:text-gray-300",children:"Price Range"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"number",placeholder:"Min",value:xe.min,onChange:e=>ge(a=>({...a,min:e.target.value})),className:"w-1/2 px-4 py-3 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 hover:border-gray-400 dark:hover:border-gray-500 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.jsx("input",{type:"number",placeholder:"Max",value:xe.max,onChange:e=>ge(a=>({...a,max:e.target.value})),className:"w-1/2 px-4 py-3 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 hover:border-gray-400 dark:hover:border-gray-500 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),e.jsx("div",{className:"flex justify-end gap-2",children:e.jsx("button",{onClick:()=>{de("all"),ue("all"),ge({min:"",max:""}),ve(!1),we(null),Pe.clearLocation()},className:"px-4 py-2 rounded-lg bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:"Clear All Filters"})})]}),e.jsx("div",{className:"mt-6 border-b border-gray-200 dark:border-gray-700 hidden md:block",children:e.jsxs("div",{className:"flex flex-wrap -mb-px",children:[e.jsxs("button",{onClick:()=>le("all"),className:"inline-flex items-center gap-2 py-3 px-4 text-sm font-medium border-b-2 "+("all"===re?"border-brand-gold text-brand-gold":"border-transparent hover:border-gray-300 dark:hover:border-gray-600"),children:[e.jsx(g,{className:"w-5 h-5"}),e.jsx("span",{children:"Browse All"})]}),e.jsxs("button",{onClick:()=>le("favorites"),className:"inline-flex items-center gap-2 py-3 px-4 text-sm font-medium border-b-2 "+("favorites"===re?"border-brand-gold text-brand-gold":"border-transparent hover:border-gray-300 dark:hover:border-gray-600"),children:[e.jsx(h,{className:"w-5 h-5"}),e.jsx("span",{children:"Favorites"})]}),e.jsxs("button",{onClick:()=>le("mine"),className:"inline-flex items-center gap-2 py-3 px-4 text-sm font-medium border-b-2 "+("mine"===re?"border-brand-gold text-brand-gold":"border-transparent hover:border-gray-300 dark:hover:border-gray-600"),children:[e.jsx(p,{className:"w-5 h-5"}),e.jsx("span",{children:"My Listings"})]}),e.jsxs("button",{onClick:()=>le("saved"),className:"inline-flex items-center gap-2 py-3 px-4 text-sm font-medium border-b-2 "+("saved"===re?"border-brand-gold text-brand-gold":"border-transparent hover:border-gray-300 dark:hover:border-gray-600"),children:[e.jsx(b,{className:"w-5 h-5"}),e.jsx("span",{children:"Saved"})]})]})})]}),e.jsx("div",{className:"flex justify-end md:block",children:e.jsx("button",{onClick:$e,className:"btn-primary flex items-center gap-2",children:Fe?e.jsxs(e.Fragment,{children:[e.jsx(c,{className:"w-5 h-5"}),"Post Listing"]}):e.jsxs(e.Fragment,{children:[e.jsx(C,{className:"w-5 h-5"}),"Sign In to Post"]})})}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h2",{className:"text-2xl font-bold",children:q?"Loading Listings...":`${A.length} Listings Available`}),q?e.jsx("div",{className:"flex justify-center items-center py-12",children:e.jsx(r,{className:"w-8 h-8 animate-spin text-brand-gold"})}):0===A.length?e.jsxs("div",{className:"glass-panel p-12 text-center",children:[e.jsx(p,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsxs("h3",{className:"text-xl font-bold mb-2",children:["all"===re&&"No Listings Found","favorites"===re&&"No Favorite Listings","mine"===re&&"You Haven't Posted Any Listings","saved"===re&&"No Saved Listings"]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"all"!==re||!z&&"all"===se?"all"===re?"Be the first to post a listing!":"favorites"===re?"Like listings to add them to your favorites.":"mine"===re?"Create your first listing to sell your items.":"Save listings to view them later.":"Try adjusting your search or filters."}),("all"===re||"mine"===re)&&e.jsxs("button",{onClick:$e,className:"btn-primary flex items-center gap-2 mx-auto",children:[e.jsx(u,{className:"w-5 h-5"}),"Create Listing"]})]}):e.jsxs(e.Fragment,{children:[ye&&Ne&&Pe.latitude&&e.jsxs("div",{className:"mb-6 p-4 rounded-lg bg-gradient-to-r from-blue-100 to-cyan-100 dark:from-blue-900/30 dark:to-cyan-900/30 border border-blue-300 dark:border-blue-700 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-600 flex items-center justify-center",children:e.jsx(d,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-semibold text-blue-900 dark:text-blue-100",children:["Showing ",A.length," ",1===A.length?"item":"items"," within ",Ne," miles"]}),e.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:Pe.isManual?Pe.address:Pe.city&&Pe.state?`${Pe.city}, ${Pe.state}`:"Your location"})]})]}),e.jsx("button",{onClick:()=>{ve(!1),we(null)},className:"px-4 py-2 rounded-lg bg-white dark:bg-gray-800 hover:bg-gray-100 dark:hover:bg-gray-700 text-blue-900 dark:text-blue-100 font-medium transition-colors",children:"Clear Filter"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.jsx(S,{children:A.map(a=>{var s;return e.jsxs(x.div,{className:"glass-panel overflow-hidden group transition-all duration-300",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:[e.jsxs("div",{className:"relative",children:[(null==(s=a.images)?void 0:s[0])?e.jsx("img",{src:a.images[0].url,alt:a.title,className:"w-full aspect-square object-cover group-hover:scale-105 transition-transform duration-300"}):e.jsx("div",{className:"w-full aspect-square bg-gray-200 dark:bg-gray-700 flex items-center justify-center",children:e.jsx(p,{className:"w-16 h-16 text-gray-400 dark:text-gray-500"})}),e.jsxs("div",{className:"absolute top-2 left-2 flex gap-2",children:[e.jsx("button",{onClick:e=>{e.stopPropagation(),(async e=>{if(Fe){Q(e);try{await _e(e)?setTimeout(()=>{Q(null),O(a=>a.map(a=>{if(a.id===e){const e=a.liked_by_user;return{...a,likes:e?a.likes-1:a.likes+1,liked_by_user:!e}}return a}))},300):Q(null)}catch(a){Q(null)}}else Ie()})(a.id)},className:"p-2 bg-white/90 dark:bg-gray-800/90 rounded-full hover:bg-white dark:hover:bg-gray-700 transition-all duration-300 "+(J===a.id?"scale-150":""),title:a.liked_by_user?"Unlike":"Like",children:e.jsx(h,{className:"w-4 h-4 sm:w-5 sm:h-5 transition-colors duration-300 "+(a.liked_by_user?"text-red-500 fill-current":"text-gray-400")})}),e.jsx("button",{onClick:e=>{e.stopPropagation(),(async e=>{Fe?Ee(e)&&O(a=>a.map(a=>a.id===e?{...a,saved:!a.saved}:a)):Ie()})(a.id)},className:"p-2 bg-white/90 dark:bg-gray-800/90 rounded-full hover:bg-white dark:hover:bg-gray-700 transition-all duration-300",title:a.saved?"Unsave":"Save",children:a.saved?e.jsx(L,{className:"w-4 h-4 sm:w-5 sm:h-5 text-brand-gold fill-current"}):e.jsx(b,{className:"w-4 h-4 sm:w-5 sm:h-5 text-gray-400"})})]}),(null==Fe?void 0:Fe.id)===a.user_id&&e.jsx("div",{className:"absolute top-2 right-2",children:e.jsx("button",{onClick:e=>{e.stopPropagation(),ne(a.id)},className:"p-2 bg-white/90 dark:bg-gray-800/90 rounded-full hover:bg-red-100 dark:hover:bg-red-900/30 hover:text-red-500 transition-all duration-300",title:"Delete listing",children:e.jsx(t,{className:"w-4 h-4 sm:w-5 sm:h-5"})})})]}),e.jsxs("div",{className:"p-3 sm:p-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-1 sm:gap-2 mb-2",children:[e.jsx("h3",{className:"text-sm sm:text-xl font-semibold line-clamp-2",children:a.title}),e.jsxs("p",{className:"text-base sm:text-lg font-bold text-brand-gold flex items-center whitespace-nowrap",children:[e.jsx(i,{className:"w-4 h-4 sm:w-5 sm:h-5"}),a.price.toLocaleString()]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-400 mb-2 sm:mb-3",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(d,{className:"w-3 h-3 sm:w-4 sm:h-4 flex-shrink-0"}),e.jsx("span",{className:"text-xs sm:text-sm truncate",children:a.location})]}),void 0!==a.distance_miles&&e.jsxs("span",{className:"px-2 py-0.5 rounded-full bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 text-xs font-medium whitespace-nowrap",children:[a.distance_miles," mi"]})]}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400 mb-3 sm:mb-4 line-clamp-2 hidden sm:block",children:a.description}),e.jsxs("div",{className:"flex items-center justify-between text-xs sm:text-sm text-gray-500 dark:text-gray-400",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(f,{className:"w-3 h-3 sm:w-4 sm:h-4"}),Ge(a.created_at)]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(h,{className:"w-3 h-3 sm:w-4 sm:h-4 "+(a.liked_by_user?"text-red-500 fill-current":"")}),e.jsx("span",{children:a.likes||0})]}),e.jsx("button",{onClick:e=>{e.stopPropagation(),(async e=>{const a=`${window.location.origin}/swap-meet/${e.id}`,s=`Check out this ${e.title} on PIT-BOX.COM!`;try{navigator.share&&window.isSecureContext?(await navigator.share({title:"PIT-BOX.COM Listing",text:s,url:a}),ae(e.id)):(await navigator.clipboard.writeText(a),ae(e.id))}catch(t){if(t instanceof Error){if("AbortError"===t.name)return;if("SecurityError"===t.name||!navigator.share)try{await navigator.clipboard.writeText(a),ae(e.id)}catch(r){}}}ee&&setTimeout(()=>ae(null),2e3)})(a)},className:"p-1.5 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full transition-colors relative group",title:"Share listing",children:ee===a.id?e.jsx(F,{className:"w-3 h-3 sm:w-4 sm:h-4 text-green-500"}):e.jsxs(e.Fragment,{children:[e.jsx(P,{className:"w-3 h-3 sm:w-4 sm:h-4"}),e.jsx("span",{className:"sr-only",children:"Share"}),e.jsx("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-2 py-1 bg-gray-900 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap",children:"Share listing"})]})})]})]}),e.jsx("button",{onClick:()=>(e=>{Fe?Z(e):Ie()})(a),className:"w-full mt-3 sm:mt-4 py-1.5 sm:py-2 px-3 sm:px-4 rounded-lg bg-brand-gold/10 hover:bg-brand-gold/20 text-brand-gold font-medium transition-colors flex items-center justify-center gap-1 sm:gap-2 text-sm sm:text-base",children:Fe?"Contact Seller":e.jsxs(e.Fragment,{children:[e.jsx(C,{className:"w-3 h-3 sm:w-4 sm:h-4"}),e.jsx("span",{className:"truncate",children:"Sign In to Contact"})]})})]}),ie===a.id&&e.jsx("div",{className:"absolute inset-0 bg-black/70 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg max-w-xs w-full",children:[e.jsx("h4",{className:"font-bold mb-2",children:"Delete Listing?"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"This action cannot be undone."}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:e=>{e.stopPropagation(),ne(null)},className:"flex-1 py-2 px-3 bg-gray-200 dark:bg-gray-700 rounded-lg",children:"Cancel"}),e.jsxs("button",{onClick:e=>{e.stopPropagation(),(async e=>{if(Fe){fe(!0);try{await Ae(e)&&(O(a=>a.filter(a=>a.id!==e)),ne(null))}catch(a){}finally{fe(!1)}}})(a.id)},className:"flex-1 py-2 px-3 bg-red-500 text-white rounded-lg flex items-center justify-center gap-2",disabled:je,children:[je?e.jsx(r,{className:"w-4 h-4 animate-spin"}):e.jsx(t,{className:"w-4 h-4"}),"Delete"]})]})]})})]},a.id)})})}),Oe&&A.length>0&&e.jsx("div",{className:"mt-8 flex justify-center",children:e.jsx("button",{onClick:()=>Re(e=>e+1),disabled:q,className:"btn-primary flex items-center gap-2 px-8 py-4 text-lg disabled:opacity-50 disabled:cursor-not-allowed",children:q?e.jsxs(e.Fragment,{children:[e.jsx(r,{className:"w-5 h-5 animate-spin"}),"Loading More..."]}):e.jsxs(e.Fragment,{children:[e.jsx(u,{className:"w-5 h-5"}),"Load More Listings"]})})}),A.length>0&&e.jsxs("div",{className:"mt-4 text-center text-sm text-gray-600 dark:text-gray-400",children:["Showing ",A.length," listings",Oe&&" · More available"]})]})]}),e.jsx(Y,{activeTab:re,onTabChange:le,onCreateListing:$e}),e.jsxs("div",{className:"glass-panel p-8 bg-gradient-to-br from-brand-gold/5 to-brand-gold-light/5",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[e.jsx(M,{className:"w-6 h-6 text-brand-gold"}),e.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-brand-gold to-brand-gold-light bg-clip-text text-transparent",children:"Sponsored Affiliates"})]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Proud to partner with premier racing venues"})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6 max-w-5xl mx-auto",children:[e.jsxs("a",{href:"https://www.silverdollarspeedway.com",target:"_blank",rel:"noopener noreferrer",className:"glass-panel p-6 hover:shadow-xl transition-all duration-300 group relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-brand-gold/10 to-brand-gold-light/10 opacity-0 group-hover:opacity-100 transition-opacity"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"flex items-center justify-end mb-4",children:e.jsx("div",{className:"px-2 py-1 rounded-full bg-brand-gold/10 text-brand-gold text-xs font-semibold",children:"SPONSORED"})}),e.jsx("div",{className:"mb-4",children:e.jsx("img",{src:"/logo.png",alt:"Silver Dollar Speedway",className:"w-full h-auto object-contain max-h-24 md:max-h-32 mx-auto"})}),e.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-gray-600 dark:text-gray-400 mb-3",children:[e.jsx(T,{className:"w-4 h-4"}),e.jsx("span",{children:"Chico, California"})]}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-4 text-center",children:"Home of the legendary Gold Cup Race of Champions and exciting sprint car racing. One of California's premier dirt racing facilities."}),e.jsxs("div",{className:"flex items-center justify-center gap-2 text-brand-gold font-semibold group-hover:gap-3 transition-all",children:[e.jsx("span",{children:"Visit Silver Dollar Speedway"}),e.jsx(_,{className:"w-5 h-5"})]})]})]}),e.jsxs("a",{href:"https://www.thunderbowlraceway.com",target:"_blank",rel:"noopener noreferrer",className:"glass-panel p-6 hover:shadow-xl transition-all duration-300 group relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-brand-gold/10 to-brand-gold-light/10 opacity-0 group-hover:opacity-100 transition-opacity"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"flex items-center justify-end mb-4",children:e.jsx("div",{className:"px-2 py-1 rounded-full bg-brand-gold/10 text-brand-gold text-xs font-semibold",children:"SPONSORED"})}),e.jsx("div",{className:"mb-4",children:e.jsx("img",{src:"/image (2).png",alt:"Thunderbowl Raceway",className:"w-full h-auto object-contain max-h-24 md:max-h-32 mx-auto"})}),e.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-gray-600 dark:text-gray-400 mb-3",children:[e.jsx(T,{className:"w-4 h-4"}),e.jsx("span",{children:"Tulare, California"})]}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-4 text-center",children:"Home of exciting sprint car racing featuring NARC 410 Sprint Cars and the annual Trophy Cup. One of California's premier dirt racing venues."}),e.jsxs("div",{className:"flex items-center justify-center gap-2 text-brand-gold font-semibold group-hover:gap-3 transition-all",children:[e.jsx("span",{children:"Visit Thunderbowl Raceway"}),e.jsx(_,{className:"w-5 h-5"})]})]})]})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"glass-panel p-6 bg-gradient-to-br from-purple-500/10 to-blue-500/10",children:[e.jsx("h3",{className:"text-xl font-bold mb-2",children:"Premium Advertising Space"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Reach thousands of potential customers with premium placement."}),e.jsx("button",{onClick:()=>Fe?Me("/partner-with-us"):Ie(),className:"btn-primary flex items-center gap-2",children:Fe?e.jsxs(e.Fragment,{children:[e.jsx(_,{className:"w-5 h-5"}),"Learn More"]}):e.jsxs(e.Fragment,{children:[e.jsx(C,{className:"w-5 h-5"}),"Sign In to Learn More"]})})]}),e.jsxs("div",{className:"glass-panel p-6 bg-gradient-to-br from-green-500/10 to-emerald-500/10",children:[e.jsx("h3",{className:"text-xl font-bold mb-2",children:"Featured Listing Spots"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Get more visibility for your listings with featured placement."}),e.jsx("button",{onClick:()=>Fe?Me("/partner-with-us"):Ie(),className:"btn-primary flex items-center gap-2",children:Fe?e.jsxs(e.Fragment,{children:[e.jsx(T,{className:"w-5 h-5"}),"Promote Listing"]}):e.jsxs(e.Fragment,{children:[e.jsx(C,{className:"w-5 h-5"}),"Sign In to Promote"]})})]})]}),e.jsx(R,{isOpen:l,onClose:()=>n(!1),onSignIn:()=>{n(!1),Me("/",{replace:!0})}}),e.jsx(U,{isOpen:o,onClose:()=>m(!1),onSuccess:()=>{qe()}}),K&&e.jsx(W,{listing:K,onClose:()=>Z(null)})]})}export{z as default};
