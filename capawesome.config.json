{
  "$schema": "https://cloud.capawesome.io/schemas/config.json",
  "appId": "8251f381-4aed-4b20-ac20-a3aad250cbb8",
  "appName": "Pitbox Racing Technology",
  "webDir": "dist",
  "webBuildCommand": "npm run build:ci:all",
  "build": {
    "platforms": {
      "ios": {
        "buildCommand": "/usr/libexec/PlistBuddy -c 'Set :CFBundleVersion 5' ios/App/App/Info.plist && /usr/libexec/PlistBuddy -c 'Set :CFBundleShortVersionString 1.0.1' ios/App/App/Info.plist && xcodebuild -workspace ios/App/App.xcworkspace -scheme App -configuration Release -archivePath build/App.xcarchive archive",
        "buildArtifacts": [
          "build/App.xcarchive"
        ],
        "version": "1.0.1",
        "buildNumber": "5",
        "infoPlist": {
          "CFBundleDisplayName": "Pitbox Racing Technology",
          "NSPhotoLibraryUsageDescription": "PitBox needs access to save racing photos and setup sheets.",
          "NSPhotoLibraryAddUsageDescription": "PitBox saves photos to your library.",
          "NSCameraUsageDescription": "PitBox needs camera access to capture dyno sheets and track conditions.",
          "NSLocationWhenInUseUsageDescription": "PitBox uses your location to find nearby tracks.",
          "NSMicrophoneUsageDescription": "PitBox uses the microphone to record voice notes.",
          "CFBundleShortVersionString": "1.0.1",
          "CFBundleVersion": "5",
          "ITSAppUsesNonExemptEncryption": false
        }
      },
      "android": {
        "buildCommand": "cd android && ./gradlew assembleRelease bundleRelease",
        "buildArtifacts": [
          "android/app/build/outputs/apk/release/app-release.apk",
          "android/app/build/outputs/bundle/release/app-release.aab"
        ],
        "version": "1.0.1",
        "versionCode": 5
      }
    }
  },
  "publish": {
    "ios": {
      "bundleId": "com.pitbox.app",
      "destinations": [
        {
          "type": "testflight",
          "enabled": true
        }
      ]
    },
    "android": {
      "packageName": "com.pitbox.app",
      "destinations": [
        {
          "type": "google-play",
          "track": "internal",
          "enabled": true
        }
      ]
    }
  }
}
